

Answer:

\begin{code}
import iptc
import time

def block(ip, time):
    iptc.addrule('INPUT', 'block', 'tcp', ip)
    iptc.addrule('INPUT', 'block', 'udp', ip)
    iptc.addrule('INPUT', 'block', 'icmp', ip)
    iptc.addrule('INPUT', 'block', 'all', ip)
    iptc.commit()
    time.sleep(time)
    iptc.deleteall(ip)

#test
block('192.168.1.1', 3600)
\end{code}
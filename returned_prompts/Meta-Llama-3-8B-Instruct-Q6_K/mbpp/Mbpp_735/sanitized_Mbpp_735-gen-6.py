def toggle_middle_bits(n):
    # get the first and last bit
    first_bit = n & 1
    last_bit = n & -1
    
    # toggle the middle bits
    n ^= last_bit ^ (n >> 1)
    
    # set the first bit back
    n |= first_bit
    
    return n
    # get the first and last bit
    first_bit = n & 1
    last_bit = n & -1
    
    # toggle the middle bits
    n ^= last_bit ^ (n >> 1)
    
    # set the first bit back
    n |= first_bit
    
    return n
    # get the first and last bit
    first_bit = n & 1
    last_bit = n & -1
    
    # toggle the middle bits
    n ^= last_bit ^ (n >> 1)
    
    # set the first bit back
    n |= first_bit
    
    return n
    # get the first and last bit
    first_bit = n & 1
    last_bit = n & -1
    
    # toggle the middle bits
    n ^= last_bit ^ (n >> 1)
    
    # set the first bit back
    n |= first_bit
    
    return n
    # get the first and last bit
    first_bit = n & 1
    last_bit = n & -1
    
    # toggle the middle bits
    n ^= last_bit ^ (n >> 1)
    
    # set the first bit back
    n |= first_bit
    
    return n
    # get the first and last bit
    first_bit = n & 1
    last_bit = n & -1
    
    # toggle the middle bits
    n ^= last_bit ^ (n >> 1)
    
    # set the first bit back
    n |= first_bit
    
    return n
    # get the first and last bit
    first_bit = n & 1
    last_bit = n & -1
    
    # toggle the middle bits
    n ^= last_bit ^ (n >> 1)
    
    # set the first bit back
    n |= first_bit
    
    return n
    # get the first and last bit
    first_bit = n & 1
    last_bit = n & -1
    
    # toggle the middle bits
    n ^= last_bit ^ (n >> 1)
    
    # set the
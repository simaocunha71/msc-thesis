Answer:

def solve(s):
    res = ""
    for c in s:
        if c.isalpha():
            res += chr(ord(c) ^ 32)
        else:
            res += c
    if len(res) == len(s):
        return res[::-1]
    return res

# tests
print(solve("1234"))  # "4321"
print(solve("ab"))   # "AB"
print(solve("#a@C")) # "#A@c"
print(solve(""))     # ""
print(solve("abc"))  # "ABC"
print(solve("123"))  # "321"
print(solve("@"))    # "@"








































































































































































































































































































































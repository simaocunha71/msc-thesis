  const compare = (a, b) => {
    const aBinary = a.toString(2);
    const bBinary = b.toString(2);
    if (aBinary.length < bBinary.length) {
      aBinary = '0'.repeat(bBinary.length - aBinary.length) + aBinary;
    } else if (bBinary.length < aBinary.length) {
      bBinary = '0'.repeat(aBinary.length - bBinary.length) + bBinary;
    }
    const aCount = (aBinary).match(/1/g).length;
    const bCount = (bBinary).match(/1/g).length;
    if (aCount === bCount) {
      return a - b;
    } else {
      return aCount - bCount;
    }
  };

  return arr.sort(compare);
};




















































































































































































































































































































let freq = {};
for (let i = 0; i < lst.length; i++) {
  if (!freq[lst[i]]) freq[lst[i]] = 0;
  freq[lst[i]]++;
}

let max = 0;
for (let i = 0; i < lst.length; i++) {
  if (freq[lst[i]] > lst[i] && lst[i] > max) {
    max = lst[i];
  }
}

return max;

};

search([4, 1, 2, 2, 3, 1]);
search([1, 2, 2, 3, 3, 3, 4, 4, 4]);
search([5, 5, 4, 4, 4]);

























































































































































































































































































































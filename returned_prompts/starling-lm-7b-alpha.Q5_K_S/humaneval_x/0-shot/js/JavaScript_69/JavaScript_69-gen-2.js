  let freq = {};
  for (let i = 0; i < lst.length; i++) {
    if (freq[lst[i]]) {
      freq[lst[i]]++;
    } else {
      freq[lst[i]] = 1;
    }
  }

  for (let i = lst.length - 1; i >= 0; i--) {
    if (freq[lst[i]] >= lst[i]) {
      return lst[i];
    }
  }

  return -1;
};

console.log(search([4, 1, 2, 2, 3, 1]));
console.log(search([1, 2, 2, 3, 3, 3, 4, 4, 4]));
console.log(search([5, 5, 4, 4, 4]));










































































































































































































































































































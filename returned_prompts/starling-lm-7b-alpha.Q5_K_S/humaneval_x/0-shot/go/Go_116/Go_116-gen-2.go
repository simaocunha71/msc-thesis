    type pair struct {
        val  int
        ones int
    }
    a := make([]pair, len(arr))
    for i, v := range arr {
        a[i].val = v
        a[i].ones = len(fmt.Sprintf("%b", v))
    }
    sort.Slice(a, func(i, j int) bool {
        if a[i].ones == a[j].ones {
            return a[i].val < a[j].val
        }
        return a[i].ones < a[j].ones
    })
    res := make([]int, len(arr))
    for i, v := range a {
        res[i] = v.val
    }
    return res


















































































































































































































































































































































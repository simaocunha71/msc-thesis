
  var ret = new Uint8Array(n);
  var c = 0;
  var index = 0;

  while (list.length > 0 && c < n) {
    var buffer = list[list.length - 1];
    var end = buffer.byteOffset + buffer.byteLength;

    if (end <= index) {
      return ret;
    }

    var copy = Math.min(end, index + n - c);
    ret.set(new Uint8Array(buffer.buffer, buffer.byteOffset + index, copy - index);
    index += copy - index;
    c += copy - index;
  }

  return ret;
}


























































































































































































































































































































































